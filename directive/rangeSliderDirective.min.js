!function(e,o){"use strict";e.module("app").directive("rangeSlider",["$window",function n(i){return{restrict:"E",replace:!0,scope:{config:"=?",model:"="},controller:["$scope",function a(n){n.iter=function i(e){return o.range(0,e)},n._supportDebounce=function a(){return e.isDefined(o)&&"function"==typeof o.debounce},n._notInRunLoop=function t(){return!n.$root.$$phase}}],template:'<div class="range-slider"><datalist id="{{config.datalist}}" ng-if="config.datalist"><option ng-repeat="index in iter(config.max)">{{index}}</option></datalist><input class="exclude" type="range" ng-change="_which=0" ng-model="_model[0]" min="{{_values.min}}" max="{{_values.max}}" step="{{_step}}" ng-attr-list="{{config.datalist}}" /><input class="exclude" type="range" ng-change="_which=1" ng-model="_model[1]" min="{{_values.min}}" max="{{_values.max}}" step="{{_step}}" /></div>',link:function t(n,a){var t={min:0,max:100,gap:1,step:.5,debounce:300,datalist:!1};n.config=$.extend(!0,e.copy(t),n.config),n.$watch("config",function(o,i){n.config=$.extend(!0,e.copy(t),n.config),o&&i&&o!==i&&(n.config.min=parseFloat(n.config.min),n.config.max=parseFloat(n.config.max),n.config.gap=parseFloat(n.config.gap),n.config.step=parseFloat(n.config.step),n.config.debounce=parseInt(n.config.debounce),n._gap=n.config.gap,n._step=n.config.step,n._debounce=n.config.debounce,n._values={min:n.config.min||0,max:n.config.max||100},l())},!0),n._model=[n.model.from,n.model.to],n._values={min:n.config.min||0,max:n.config.max||100},n._step=n.config.step||1,n._gap=i.parseFloat(n.config.gap)||0,n._debounce=i.parseInt(n.config.debounce);var l=function(){var i=a.find("input");o.each(i,function(o,i){o=e.element(o),o.val(n._model[i])})};n.$watch("model",function d(){n._model=[n.model.from,n.model.to],l()},!0);var c=function _(){n._values[this]=n[this],l()};n._which=0;var m=function s(o){if(e.isArray(n.model)?n.model=[o[0],o[1]]:n.model={from:o[0],to:o[1]},n._notInRunLoop())try{n.$apply()}catch(i){}};n._debounce&&n._supportDebounce()&&(m=o.debounce(m,n._debounce)),n.$watchCollection("_model",function u(){n._model[0]=i.parseFloat(n._model[0]),n._model[1]=i.parseFloat(n._model[1]),0===n._which&&n._model[1]-n._gap<n._model[0]&&(n._model[1]=n._model[0]+n._gap),1===n._which&&n._model[0]+n._gap>n._model[1]&&(n._model[0]=n._model[1]-n._gap),function e(){n._model[0]<n._values.min&&(n._model[0]=n._values.min),n._model[1]<n._values.min&&(n._model[1]=n._values.min),n._model[0]>n._values.max&&(n._model[0]=n._values.max),n._model[1]>n._values.max&&(n._model[1]=n._values.max);var e=n._model[0]+n._gap,o=n._model[1]-n._gap;n._model[0]>o&&(n._model[0]=o),n._model[1]<e&&(n._model[1]=e)}(),m(n._model)})}}}])}(window.angular,window._);