!function(e,o){"use strict";e.module("app").directive("rangeSlider",["$window",function n(t){return{restrict:"E",replace:!0,scope:{config:"=?",model:"="},controller:["$scope",function l(n){n.iter=function t(e){return o.range(0,e)},n._supportThrottle=function l(){return e.isDefined(o)&&"function"==typeof o.throttle},n._notInRunLoop=function i(){return!n.$root.$$phase}}],template:'<div class="range-slider"><datalist ng-id="{{config.datalist}}" ng-if="config.datalist"><option ng-repeat="index in iter(config.max)">{{index}}</option></datalist><input class="exclude" type="range" ng-change="_which=0" ng-model="_model[0]" min="{{_values.min}}" max="{{_values.max}}" step="{{_step}}" ng-attr-list="config.datalist" /><input class="exclude" type="range" ng-change="_which=1" ng-model="_model[1]" min="{{_values.min}}" max="{{_values.max}}" step="{{_step}}" /></div>',link:function i(n,l){var i={min:0,max:100,gap:1,step:.5,throttle:0,datalist:!1};n.config=$.extend(!0,e.copy(i),n.config),n.$watch("config",function(o,t){n.config=$.extend(!0,e.copy(i),n.config),o&&t&&o!==t&&(a(),o.min!==t.min&&m.bind("min"),o.max!==t.max&&m.bind("max"))},!0),n._model=[n.model.from,n.model.to],n._values={min:n.config.min||0,max:n.config.max||100},n._step=n.config.step||1,n._gap=t.parseFloat(n.config.gap)||0;var a=function(){var t=l.find("input");o.each(t,function(o,t){o=e.element(o),o.val(""),o.val(n._model[t])})};n.$watch("model",function _(){n._model=[n.model.from,n.model.to],a()},!0);var m=function c(){n._values[this]=n[this],a()};n._which=0;var d=function r(o){if(e.isArray(n.model)?n.model=[o[0],o[1]]:n.model={from:o[0],to:o[1]},n._notInRunLoop())try{n.$apply()}catch(t){}};n.config.throttle&&n._supportThrottle()&&(d=o.throttle(d,t.parseFloat(n.config.throttle))),n.$watchCollection("_model",function s(){n._model[0]=t.parseFloat(n._model[0]),n._model[1]=t.parseFloat(n._model[1]),0===n._which&&n._model[1]-n._gap<n._model[0]&&(n._model[1]=n._model[0]+n._gap),1===n._which&&n._model[0]+n._gap>n._model[1]&&(n._model[0]=n._model[1]-n._gap),function e(){n._model[0]<n._values.min&&(n._model[0]=n._values.min),n._model[1]<n._values.min&&(n._model[1]=n._values.min),n._model[0]>n._values.max&&(n._model[0]=n._values.max),n._model[1]>n._values.max&&(n._model[1]=n._values.max);var e=n._model[0]+n._gap,o=n._model[1]-n._gap;n._model[0]>o&&(n._model[0]=o),n._model[1]<e&&(n._model[1]=e)}(),window.console.log(n._model),d(n._model)})}}}])}(window.angular,window._);